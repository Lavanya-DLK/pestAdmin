{"ast":null,"code":"import{useEffect,useState}from'react';import{useSelector}from'react-redux';import{useLocation,useNavigate}from'react-router';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Collapse,List,ListItemButton,ListItemIcon,ListItemText,Typography}from'@mui/material';// project imports\nimport NavItem from'../NavItem';// assets\nimport FiberManualRecordIcon from'@mui/icons-material/FiberManualRecord';import{IconChevronDown,IconChevronUp}from'@tabler/icons';// ==============================|| SIDEBAR MENU LIST COLLAPSE ITEMS ||============================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const NavCollapse=_ref=>{var _menu$children;let{menu,level}=_ref;const theme=useTheme();const customization=useSelector(state=>state.customization);const navigate=useNavigate();const[open,setOpen]=useState(false);const[selected,setSelected]=useState(null);const handleClick=()=>{setOpen(!open);setSelected(!selected?menu.id:null);if((menu===null||menu===void 0?void 0:menu.id)!=='authentication'){var _menu$children$;navigate((_menu$children$=menu.children[0])===null||_menu$children$===void 0?void 0:_menu$children$.url);}};const{pathname}=useLocation();const checkOpenForParent=(child,id)=>{child.forEach(item=>{if(item.url===pathname){setOpen(true);setSelected(id);}});};// menu collapse for sub-levels\nuseEffect(()=>{setOpen(false);setSelected(null);if(menu.children){menu.children.forEach(item=>{var _item$children;if((_item$children=item.children)!==null&&_item$children!==void 0&&_item$children.length){checkOpenForParent(item.children,menu.id);}if(item.url===pathname){setSelected(menu.id);setOpen(true);}});}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[pathname,menu.children]);// menu collapse & item\nconst menus=(_menu$children=menu.children)===null||_menu$children===void 0?void 0:_menu$children.map(item=>{switch(item.type){case'collapse':return/*#__PURE__*/_jsx(NavCollapse,{menu:item,level:level+1},item.id);case'item':return/*#__PURE__*/_jsx(NavItem,{item:item,level:level+1},item.id);default:return/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"error\",align:\"center\",children:\"Menu Items Error\"},item.id);}});const Icon=menu.icon;const menuIcon=menu.icon?/*#__PURE__*/_jsx(Icon,{strokeWidth:1.5,size:\"1.3rem\",style:{marginTop:'auto',marginBottom:'auto'}}):/*#__PURE__*/_jsx(FiberManualRecordIcon,{sx:{width:selected===menu.id?8:6,height:selected===menu.id?8:6},fontSize:level>0?'inherit':'medium'});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ListItemButton,{sx:{borderRadius:`${customization.borderRadius}px`,mb:0.5,alignItems:'flex-start',backgroundColor:level>1?'transparent !important':'inherit',py:level>1?1:1.25,pl:`${level*24}px`},selected:selected===menu.id,onClick:handleClick,children:[/*#__PURE__*/_jsx(ListItemIcon,{sx:{my:'auto',minWidth:!menu.icon?18:36},children:menuIcon}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsx(Typography,{variant:selected===menu.id?'h5':'body1',color:\"inherit\",sx:{my:'auto'},children:menu.title}),secondary:menu.caption&&/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{...theme.typography.subMenuCaption},display:\"block\",gutterBottom:true,children:menu.caption})}),open?/*#__PURE__*/_jsx(IconChevronUp,{stroke:1.5,size:\"1rem\",style:{marginTop:'auto',marginBottom:'auto'}}):/*#__PURE__*/_jsx(IconChevronDown,{stroke:1.5,size:\"1rem\",style:{marginTop:'auto',marginBottom:'auto'}})]}),/*#__PURE__*/_jsx(Collapse,{in:open,timeout:\"auto\",unmountOnExit:true,children:/*#__PURE__*/_jsx(List,{component:\"div\",disablePadding:true,sx:{position:'relative','&:after':{content:\"''\",position:'absolute',left:'32px',top:0,height:'100%',width:'1px',opacity:1,background:theme.palette.primary.light}},children:menus})})]});};export default NavCollapse;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}