{"ast":null,"code":"import{useState,useRef,useEffect}from'react';import{Link}from'react-router-dom';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Avatar,Box,Button,ButtonBase,CardActions,Chip,ClickAwayListener,Divider,Grid,Paper,Popper,Stack,TextField,Typography,useMediaQuery}from'@mui/material';// third-party\nimport PerfectScrollbar from'react-perfect-scrollbar';// project imports\nimport MainCard from'ui-component/cards/MainCard';import Transitions from'ui-component/extended/Transitions';import NotificationList from'./NotificationList';// assets\nimport{IconBell}from'@tabler/icons';// notification status options\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const status=[{value:'all',label:'All Notification'},{value:'new',label:'New'},{value:'unread',label:'Unread'},{value:'other',label:'Other'}];// ==============================|| NOTIFICATION ||============================== //\nconst NotificationSection=()=>{const theme=useTheme();const matchesXs=useMediaQuery(theme.breakpoints.down('md'));const[open,setOpen]=useState(false);const[value,setValue]=useState('');/**\r\n   * anchorRef is used on different componets and specifying one type leads to other components throwing an error\r\n   * */const anchorRef=useRef(null);const handleToggle=()=>{setOpen(prevOpen=>!prevOpen);};const handleClose=event=>{if(anchorRef.current&&anchorRef.current.contains(event.target)){return;}setOpen(false);};const prevOpen=useRef(open);useEffect(()=>{if(prevOpen.current===true&&open===false){anchorRef.current.focus();}prevOpen.current=open;},[open]);const handleChange=event=>{if(event!==null&&event!==void 0&&event.target.value)setValue(event===null||event===void 0?void 0:event.target.value);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{sx:{ml:2,mr:3,[theme.breakpoints.down('md')]:{mr:2}},children:/*#__PURE__*/_jsx(ButtonBase,{sx:{borderRadius:'12px'},children:/*#__PURE__*/_jsx(Avatar,{variant:\"rounded\",sx:{...theme.typography.commonAvatar,...theme.typography.mediumAvatar,transition:'all .2s ease-in-out',background:theme.palette.secondary.light,color:theme.palette.secondary.dark,'&[aria-controls=\"menu-list-grow\"],&:hover':{background:theme.palette.secondary.dark,color:theme.palette.secondary.light}},ref:anchorRef,\"aria-controls\":open?'menu-list-grow':undefined,\"aria-haspopup\":\"true\",onClick:handleToggle,color:\"inherit\",children:/*#__PURE__*/_jsx(IconBell,{stroke:1.5,size:\"1.3rem\"})})})}),/*#__PURE__*/_jsx(Popper,{placement:matchesXs?'bottom':'bottom-end',open:open,anchorEl:anchorRef.current,role:undefined,transition:true,disablePortal:true,popperOptions:{modifiers:[{name:'offset',options:{offset:[matchesXs?5:0,20]}}]},children:_ref=>{let{TransitionProps}=_ref;return/*#__PURE__*/_jsx(Transitions,{position:matchesXs?'top':'top-right',in:open,...TransitionProps,children:/*#__PURE__*/_jsx(Paper,{children:/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleClose,children:/*#__PURE__*/_jsxs(MainCard,{border:false,elevation:16,content:false,boxShadow:true,shadow:theme.shadows[16],children:[/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",justifyContent:\"space-between\",sx:{pt:2,px:2},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"All Notification\"}),/*#__PURE__*/_jsx(Chip,{size:\"small\",label:\"01\",sx:{color:theme.palette.background.default,bgcolor:theme.palette.warning.dark}})]})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{component:Link,to:\"#\",variant:\"subtitle2\",color:\"primary\",children:\"Mark as all read\"})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(PerfectScrollbar,{style:{height:'100%',maxHeight:'calc(100vh - 205px)',overflowX:'hidden'},children:[/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Box,{sx:{px:2,pt:0.25},children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-select-currency-native\",select:true,fullWidth:true,value:value,onChange:handleChange,SelectProps:{native:true},children:status.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,p:0,children:/*#__PURE__*/_jsx(Divider,{sx:{my:0}})})]}),/*#__PURE__*/_jsx(NotificationList,{})]})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(CardActions,{sx:{p:1.25,justifyContent:'center'},children:/*#__PURE__*/_jsx(Button,{size:\"small\",disableElevation:true,children:\"View All\"})})]})})})});}})]});};export default NotificationSection;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}